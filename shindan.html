<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨ã—æ´»Ã—ã‚µãƒ„ãƒ€ã‚¤ ãƒ¡ã‚¸ãƒ£ãƒ¼è¨ºæ–­ | æœ­å¹Œå¤§å­¦</title>
    <style>
        /* ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®š */
        :root {
            --primary-color: #00A0E9; /* ã‚µãƒ„ãƒ€ã‚¤ãƒ–ãƒ«ãƒ¼ç³» */
            --accent-color: #FF6B9D; /* æ¨ã—æ´»ãƒ”ãƒ³ã‚¯ */
            --bg-color: #F0F8FF;
            --text-color: #333;
            --card-bg: #ffffff;
        }

        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", "Hiragino Sans", Meiryo, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 600px;
            background: var(--card-bg);
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        /* å„ç”»é¢ã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
        .screen {
            padding: 30px 20px;
            flex: 1;
            display: none; /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
            flex-direction: column;
            align-items: center;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .btn {
            background: linear-gradient(45deg, var(--primary-color), #5bc0de);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
            text-decoration: none;
            display: inline-block;
        }

        .btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ */
        .hero-img {
            width: 80%;
            max-width: 300px;
            margin: 20px auto;
            border-radius: 15px;
        }

        .intro-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        /* è³ªå•ç”»é¢ */
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: var(--accent-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 30px;
            text-align: left;
            width: 100%;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            width: 100%;
        }

        .option-btn {
            background: white;
            border: 2px solid #eee;
            padding: 15px;
            border-radius: 10px;
            font-size: 1rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-btn:hover {
            border-color: var(--primary-color);
            background: #f9f9ff;
        }

        /* çµæœç”»é¢ */
        .result-rank {
            width: 100%;
            margin-bottom: 30px;
        }

        .rank-item {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            text-align: left;
            border-left: 8px solid var(--primary-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .rank-item.gold { border-color: #FFD700; background: #FFFDF0; }
        .rank-item.silver { border-color: #C0C0C0; }
        .rank-item.bronze { border-color: #CD7F32; }

        .rank-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        .gold .rank-badge { background: #FFD700; color: #555; }
        .silver .rank-badge { background: #C0C0C0; }
        .bronze .rank-badge { background: #CD7F32; }

        .major-name {
            font-size: 1.4rem;
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        
        .type-name {
            color: var(--accent-color);
            font-weight: bold;
        }

        .desc-text {
            font-size: 0.95rem;
            color: #555;
            margin-top: 5px;
            line-height: 1.5;
        }

        .staff-code-box {
            background: #333;
            color: #fff;
            padding: 20px;
            border-radius: 10px;
            margin: 30px 0;
            width: 90%;
        }
        .staff-code {
            font-size: 2.5rem;
            font-weight: bold;
            letter-spacing: 5px;
            color: #00FF00;
        }

        .sns-area {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 40px;
        }
        .sns-btn {
            padding: 10px 20px;
            border-radius: 5px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.9rem;
            border: none;
            cursor: pointer;
        }
        .twitter { background: #000; }
        .copy { background: #888; }

        /* ãƒ•ãƒƒã‚¿ãƒ¼ */
        footer {
            margin-top: auto;
            padding: 20px;
            font-size: 0.8rem;
            color: #888;
            background: #f1f1f1;
            width: 100%;
            text-align: center;
        }
    </style>
</head>
<body>

<div class="container">
    <div id="start-screen" class="screen active">
        <h1>æ¨ã—æ´» Ã— ã‚µãƒ„ãƒ€ã‚¤<br>ãƒ¡ã‚¸ãƒ£ãƒ¼è¨ºæ–­</h1>
        <p class="intro-text">
            ã‚ãªãŸã®ã€Œæ¨ã—æ´»ã‚¹ã‚¿ã‚¤ãƒ«ã€ã‹ã‚‰<br>
            æ‰èƒ½ãŒè¼ãå°‚æ”»ãŒè¦‹ã¤ã‹ã‚‹ï¼<br><br>
            ã‚µãƒ„ãƒ€ã‚¤ã¯1å¹´æ¬¡ã¯å°‚æ”»ã‚’æ±ºã‚ãšã«<br>è‰²ã€…å­¦ã¹ã‚‹ã€Œåœ°åŸŸå…±å‰µå­¦ç¾¤ã€ã€‚<br>
            2å¹´æ¬¡ã«ã©ã®å°‚æ”»ã‚’é¸ã¶ã¨æœ€å¼·ã«ãªã‚Œã‚‹ã‹<br>
            AIãƒ­ã‚¸ãƒƒã‚¯ã§åˆ†æã—ã¾ã™ï¼
        </p>
        <button class="btn" onclick="startQuiz()">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    </div>

    <div id="quiz-screen" class="screen">
        <div class="progress-bar"><div id="progress-fill" class="progress-fill"></div></div>
        <div id="question-text" class="question-text"></div>
        <div id="options-grid" class="options-grid"></div>
    </div>

    <div id="result-screen" class="screen">
        <h2>ğŸ‰ è¨ºæ–­çµæœ ğŸ‰</h2>
        <p>ã‚ãªãŸã®æ‰èƒ½ãŒé–‹èŠ±ã™ã‚‹<br>å­¦ã³ã®ãƒ™ã‚¹ãƒˆ3ã¯ã“ã‚Œã ï¼</p>
        
        <div id="ranking-container" class="result-rank">
            </div>

        <div class="staff-code-box">
            <p style="margin:0; font-size:0.8rem;">ã‚¹ã‚¿ãƒƒãƒ•æç¤ºç”¨ã‚³ãƒ¼ãƒ‰</p>
            <div id="staff-code" class="staff-code"></div>
            <p style="margin:0; font-size:0.8rem;">â€»ã“ã®ç”»é¢ã‚’ã‚¹ã‚¿ãƒƒãƒ•ã«è¦‹ã›ã¦ã­ï¼</p>
        </div>

        <div class="sns-area">
            <a id="twitter-share" href="#" target="_blank" class="sns-btn twitter">ğ• ã§ãƒã‚¹ãƒˆ</a>
            <button onclick="copyResult()" class="sns-btn copy">çµæœã‚’ã‚³ãƒ”ãƒ¼ï¼ˆã‚¤ãƒ³ã‚¹ã‚¿ç”¨ï¼‰</button>
        </div>
        
        <button class="btn" onclick="location.reload()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
    </div>
    
    <footer>
        &copy; Sapporo University Open Campus
    </footer>
</div>

<script>
    /* ============================
       ãƒ‡ãƒ¼ã‚¿è¨­å®š
       ============================ */
    
    // 9ã¤ã®ã‚¿ã‚¤ãƒ—å®šç¾©
    const types = {
        A: { name: "è¨€èªåŒ–ã®é­”è¡“å¸«", major: "æ—¥æœ¬èªãƒ»æ—¥æœ¬æ–‡åŒ–å°‚æ”»", desc: "è¨€è‘‰ã§æ¨ã—ã‚’è¡¨ç¾ã™ã‚‹å¤©æ‰ã€‚æ–‡å­¦ã‚„æ–‡åŒ–ã‚’å­¦ã¶ã¨ã€ãã®è¡¨ç¾åŠ›ã¯æœ€å¼·ã®æ­¦å™¨ã«ãªã‚‹ï¼" },
        B: { name: "æ–‡è„ˆã®è€ƒå¤å­¦è€…", major: "æ­´å²æ–‡åŒ–å°‚æ”»", desc: "æ¨ã—ã®èƒŒæ™¯ã‚„æ­´å²ã‚’æ·±æ˜ã‚Šã™ã‚‹æ¢ç©¶å¿ƒã€‚æ­´å²ã®æµã‚Œã‚’å­¦ã¶ã“ã¨ã§ã€æ¨ã—ã®ä¸–ç•ŒãŒã‚‚ã£ã¨é®®ã‚„ã‹ã«ï¼" },
        C: { name: "å›½å¢ƒãªãã‚ªã‚¿ã‚¯", major: "è‹±èªå°‚æ”»", desc: "æµ·å¤–æƒ…å ±ã‚‚é€ƒã•ãªã„ã‚°ãƒ­ãƒ¼ãƒãƒ«è¦–ç‚¹ã€‚è‹±èªåŠ›ã‚’ç£¨ã‘ã°ã€æ¨ã—æ´»ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä¸–ç•Œã¸ï¼" },
        D: { name: "ç¾å ´ã®å¸ä»¤å¡”", major: "ã‚¹ãƒãƒ¼ãƒ„æ–‡åŒ–å°‚æ”»", desc: "ç¾å ´ã®ç†±é‡ã¨ä¸€ä½“æ„ŸãŒå¤§å¥½ãã€‚èº«ä½“æ–‡åŒ–ã‚„ã‚¹ãƒãƒ¼ãƒ„ã‚’å­¦ã‚“ã§ã€æ„Ÿå‹•ã‚’ä½œã‚‹å´ã«ï¼" },
        E: { name: "æ•è…•ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼", major: "çµŒå–¶å­¦å°‚æ”»", desc: "æ¨ã—ã‚’ã©ã†åºƒã‚ã‚‹ã‹è€ƒãˆã‚‹æˆ¦ç•¥å®¶ã€‚ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ã‚’å­¦ã¹ã°ã€ãƒã‚ºã‚‰ã›ã‚‹ä»•æ›ã‘äººã«ï¼" },
        F: { name: "ã‚³ã‚¹ãƒ‘ã®é¬¼", major: "çµŒæ¸ˆå­¦å°‚æ”»", desc: "æ•°å­—ã¨ãƒ‡ãƒ¼ã‚¿ã§æ¨ã—æ´»ã‚’åˆ†æã€‚ãŠé‡‘ã®æµã‚Œã‚„çµŒæ¸ˆåŠ¹æœã‚’å­¦ã¶ã¨ã€æ¨ã—æ´»ã®è£å´ãŒè¦‹ãˆã¦ãã‚‹ï¼" },
        G: { name: "é‰„å£ã®å®ˆè­·ç¥", major: "æ³•å­¦å°‚æ”»", desc: "ãƒ«ãƒ¼ãƒ«ã‚„æ¨©åˆ©ã‚’å®ˆã‚‹æ­£ç¾©æ„Ÿã€‚æ³•å¾‹ã‚’çŸ¥ã‚‹ã“ã¨ã¯ã€å¤§å¥½ããªæ¨ã—ã‚„ç•Œéšˆã‚’å®ˆã‚‹åŠ›ã«ãªã‚‹ï¼" },
        H: { name: "è¶Šå¢ƒã™ã‚‹ãƒãƒ«ãƒæ‰èƒ½", major: "ãƒªãƒ™ãƒ©ãƒ«ã‚¢ãƒ¼ãƒ„å°‚æ”»", desc: "ã‚¸ãƒ£ãƒ³ãƒ«ã«ç¸›ã‚‰ã‚Œãšå¤šè§’çš„ã«æ¥½ã—ã‚€ã€‚å¤šæ§˜ãªå­¦å•ã‚’çµ„ã¿åˆã‚ã›ã‚Œã°ã€ç‹¬è‡ªã®è¦–ç‚¹ãŒæ‰‹ã«å…¥ã‚‹ï¼" },
        I: { name: "ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ãƒãƒ–", major: "åœ°åŸŸå…±å‰µå­¦ç¾¤ï¼ˆåœ°åŸŸï¼‰", desc: "ãƒ•ã‚¡ãƒ³åŒå£«ã‚„åœ°åŸŸã¨ã®ç¹‹ãŒã‚Šã‚’å¤§åˆ‡ã«ã™ã‚‹ã€‚äººã¨å”åŠ›ã—ã¦æ–°ã—ã„ä¾¡å€¤ã‚’ä½œã‚‹ã‚µãƒ„ãƒ€ã‚¤ã®å­¦ã³ãã®ã‚‚ã®ï¼" }
    };

    // è³ªå•ãƒ‡ãƒ¼ã‚¿ï¼ˆé¸æŠè‚¢ã”ã¨ã«åŠ ç®—ã™ã‚‹ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šï¼‰
    const questions = [
        {
            text: "Q1. æ¨ã—ã®é­…åŠ›ã‚’å‹é”ã«ã€Œå¸ƒæ•™ã€ã™ã‚‹ã¨ãã€ã©ã†ã™ã‚‹ï¼Ÿ",
            options: [
                { label: "ã€Œã“ã®æ­Œè©ãŒãƒ¤ãƒã„ã€ã¨ç†±æ–‡LINEã‚’é€ã‚‹", type: "A" },
                { label: "ã€Œã“ã“ã¾ã§ã®è‹¦åŠ´ãŒæ³£ã‘ã‚‹ã€ã¨æ­´å²ã‚’èªã‚‹", type: "B" },
                { label: "ã€Œæµ·å¤–ã§ã‚‚äººæ°—ãªã‚“ã ã‚ˆã€ã¨è¦æ¨¡æ„Ÿã‚’ä¼ãˆã‚‹", type: "C" },
                { label: "ã€Œã¨ã«ã‹ããƒ©ã‚¤ãƒ–æ˜ åƒè¦‹ã¦ï¼ã€ã¨ç†±é‡ã‚’ä¼ãˆã‚‹", type: "D" },
                { label: "ç›¸æ‰‹ã®å¥½ã¿ã«åˆã‚ã›ã¦ãƒ—ãƒ¬ã‚¼ãƒ³æ–¹æ³•ã‚’å¤‰ãˆã‚‹", type: "E" },
                { label: "ã€Œä»Šãƒãƒã‚‹ã¨ã“ã‚Œã ã‘ãŠå¾—ã€ã¨ã‚³ã‚¹ãƒ‘ã‚’èª¬ã", type: "F" },
                { label: "ã€Œå…¬å¼å‹•ç”»ã ã‹ã‚‰å®‰å¿ƒã—ã¦ã€ã¨å®‰å…¨ã«å°ã", type: "G" },
                { label: "ã€ŒéŸ³æ¥½ã‚‚è¡£è£…ã‚‚å…¨éƒ¨è‰¯ã„ã€ã¨å…¨ä½“åƒã‚’èªã‚‹", type: "H" },
                { label: "ã€Œãƒ•ã‚¡ãƒ³ã®é›°å›²æ°—ãŒè‰¯ã„ã‚ˆã€ã¨ä»²é–“ã«èª˜ã†", type: "I" }
            ]
        },
        {
            text: "Q2. ã‚°ãƒƒã‚ºè³¼å…¥ã‚„é å¾è²»ã€ãŠè²¡å¸ƒäº‹æƒ…ã¯ã©ã†ã—ã¦ã‚‹ï¼Ÿ",
            options: [
                { label: "ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚„è¨€è‘‰ã«æƒ¹ã‹ã‚Œã¦è²·ã†", type: "A" },
                { label: "ã‚†ã‹ã‚Šã®åœ°ã‚„ä¼çµ±å·¥èŠ¸ã‚³ãƒ©ãƒœãªã‚‰å³æ±º", type: "B" },
                { label: "æµ·å¤–é™å®šã‚°ãƒƒã‚ºã‚„é€æ–™ã‚‚å­ã‚ãªã„", type: "C" },
                { label: "ç¾åœ°ã«è¡Œãã“ã¨ãŒæœ€å¤§ã®æŠ•è³‡ï¼", type: "D" },
                { label: "ã€Œã“ã‚Œã¯æŠ•è³‡ã ã€ã¨å‰²ã‚Šåˆ‡ã£ã¦æˆ¦ç•¥çš„ã«è²·ã†", type: "E" },
                { label: "ãƒã‚¤ãƒˆä»£ã¨æ”¯å‡ºã‚’è¨ˆç®—ã—ã¦è¨ˆç”»çš„ã«ä½¿ã†", type: "F" },
                { label: "è»¢å£²NGï¼å…¬å¼ã«ã—ã£ã‹ã‚ŠãŠé‡‘ã‚’è½ã¨ã™", type: "G" },
                { label: "æ°—åˆ†ã«ã‚ˆã£ã¦æŸ”è»Ÿã«æ¬²ã—ã„ã‚‚ã®ã‚’è²·ã†", type: "H" },
                { label: "åœ°å…ƒã®ã‚³ãƒ©ãƒœåº—ã‚„ã‚¤ãƒ™ãƒ³ãƒˆä¼šå ´ã§è²·ã†", type: "I" }
            ]
        },
        {
            text: "Q3. æ¨ã—ãŒã€Œç‚ä¸Šã€ã‚„ã€Œãƒˆãƒ©ãƒ–ãƒ«ã€ã«ï¼ã©ã†å‹•ãï¼Ÿ",
            options: [
                { label: "è‡ªåˆ†ã®è¨€è‘‰ã§æ¨ã—ã¸ã®æ„›ã‚’æŠ•ç¨¿ã™ã‚‹", type: "A" },
                { label: "éå»ã®äº‹ä¾‹ã‚„çµŒç·¯ã‚’å†·é™ã«èª¿ã¹ã‚‹", type: "B" },
                { label: "æµ·å¤–ã®åå¿œã‚„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹", type: "C" },
                { label: "å¤‰ã‚ã‚‰ãšç¾å ´ã«å¿œæ´ã«è¡Œãã¨æ±ºã‚ã‚‹", type: "D" },
                { label: "é®ç«ã™ã‚‹ãŸã‚ã®ãƒã‚¸ãƒ†ã‚£ãƒ–ãªè©±é¡Œã‚’æ‹¡æ•£", type: "E" },
                { label: "ãƒ•ã‚¡ãƒ³é›¢ã‚Œã‚„çµŒæ¸ˆçš„å½±éŸ¿ã‚’å¿ƒé…ã™ã‚‹", type: "F" },
                { label: "äº‹å®Ÿç¢ºèªã—ã€èª¹è¬—ä¸­å‚·ã‚’é€šå ±ã™ã‚‹", type: "G" },
                { label: "ã„ã‚ã‚“ãªæ„è¦‹ãŒã‚ã‚‹ã“ã¨ã‚’å—ã‘æ­¢ã‚ã‚‹", type: "H" },
                { label: "ãƒ•ã‚¡ãƒ³åŒå£«ã§åŠ±ã¾ã—åˆã„çµæŸã‚’å›ºã‚ã‚‹", type: "I" }
            ]
        },
        {
            text: "Q4. ã‚‚ã—ã‚ãªãŸãŒã€Œæ¨ã—ã®ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã€ã«ãªã£ãŸã‚‰ï¼Ÿ",
            options: [
                { label: "æ³£ã‘ã‚‹ã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ã‚’è€ƒãˆã‚‹", type: "A" },
                { label: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ã‚¿ãƒªãƒ¼æ˜ ç”»ã‚’ä½œã‚‹", type: "B" },
                { label: "ä¸–ç•Œãƒ„ã‚¢ãƒ¼ã‚’çµ„ã‚“ã§æµ·å¤–é€²å‡ºï¼", type: "C" },
                { label: "ãƒ‰ãƒ¼ãƒ ãªã©å¤§ããªä¼šå ´ã‚’æŠ¼ã•ãˆã‚‹", type: "D" },
                { label: "SNSã§ãƒã‚ºã‚‹ä¼ç”»ã‚’é€£ç™ºã™ã‚‹", type: "E" },
                { label: "å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã—ã¦æ¬¡ã«æ´»ã‹ã™", type: "F" },
                { label: "å¥‘ç´„æ›¸ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦æ¨©åˆ©ã‚’å®ˆã‚‹", type: "G" },
                { label: "æ¨ã—ã®è‡ªç”±ã«ã‚„ã‚‰ã›ã¦ã‚ã’ã‚‹", type: "H" },
                { label: "åœ°å…ƒä¼æ¥­ã¨ã‚³ãƒ©ãƒœã—ã¦ç››ã‚Šä¸Šã’ã‚‹", type: "I" }
            ]
        },
        {
            text: "Q5. æœ€å¾Œã«ï¼ã‚ãªãŸã«ã¨ã£ã¦ã€Œæ¨ã—æ´»ã€ã¨ã¯ï¼Ÿ",
            options: [
                { label: "æƒ³ã„ã‚’ã€Œè¨€èªåŒ–ã€ã™ã‚‹ã“ã¨", type: "A" },
                { label: "å£®å¤§ãªã€Œç‰©èªã€ã®ä¸€éƒ¨ã«ãªã‚‹ã“ã¨", type: "B" },
                { label: "ä¸–ç•Œã‚’åºƒã’ã‚‹ã€Œãƒ‘ã‚¹ãƒãƒ¼ãƒˆã€", type: "C" },
                { label: "ç”Ÿãã¦ã‚‹å®Ÿæ„Ÿï¼ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ã€Œäº¤æ›ã€", type: "D" },
                { label: "æ¨ã—ã¨å…±ã«æˆé•·ã™ã‚‹ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€", type: "E" },
                { label: "äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹ä¾¡å€¤ã‚ã‚‹ã€ŒæŠ•è³‡ã€", type: "F" },
                { label: "æ­£ã—ãæ„›ã—ã€ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã£ã¦ã€Œæ”¯ãˆã‚‹ã€", type: "G" },
                { label: "å¥½å¥‡å¿ƒã®æ‰‰ã‚’é–‹ãã€Œã‚«ã‚®ã€", type: "H" },
                { label: "å¤§åˆ‡ãªå±…å ´æ‰€ã¨ä»²é–“ã‚’ä½œã‚‹ã€Œã¤ãªãŒã‚Šã€", type: "I" }
            ]
        }
    ];

    /* ============================
       ãƒ­ã‚¸ãƒƒã‚¯å‡¦ç†
       ============================ */
    
    let currentQuestionIndex = 0;
    // ã‚¹ã‚³ã‚¢åˆæœŸåŒ–
    let scores = { A:0, B:0, C:0, D:0, E:0, F:0, G:0, H:0, I:0 };

    // ç”»é¢åˆ‡ã‚Šæ›¿ãˆé–¢æ•°
    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(el => el.classList.remove('active'));
        document.getElementById(screenId).classList.add('active');
    }

    // è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ
    function startQuiz() {
        currentQuestionIndex = 0;
        // ã‚¹ã‚³ã‚¢ãƒªã‚»ãƒƒãƒˆ
        for (let key in scores) scores[key] = 0;
        showScreen('quiz-screen');
        renderQuestion();
    }

    // è³ªå•æç”»
    function renderQuestion() {
        const q = questions[currentQuestionIndex];
        
        // é€²æ—ãƒãƒ¼æ›´æ–°
        const progressPercent = ((currentQuestionIndex) / questions.length) * 100;
        document.getElementById('progress-fill').style.width = progressPercent + '%';

        document.getElementById('question-text').innerText = q.text;
        
        const optionsContainer = document.getElementById('options-grid');
        optionsContainer.innerHTML = '';

        // ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸã„å ´åˆã¯ã“ã“ã§optionsã‚’ãƒ©ãƒ³ãƒ€ãƒ ã‚½ãƒ¼ãƒˆã™ã‚‹ãŒã€
        // ä»Šå›ã¯å®šç¾©é †ï¼ˆA~Iã®é †ã ã¨ãƒãƒ¬ã‚„ã™ã„ã®ã§ã€æœ¬ç•ªå®Ÿè£…ã§ã¯ã‚·ãƒ£ãƒƒãƒ•ãƒ«æ¨å¥¨ï¼‰
        // ã“ã“ã§ã¯ç°¡æ˜“çš„ã«ãã®ã¾ã¾è¡¨ç¤ºã—ã¾ã™
        
        q.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerText = opt.label;
            btn.onclick = () => answer(opt.type);
            optionsContainer.appendChild(btn);
        });
    }

    // å›ç­”å‡¦ç†
    function answer(type) {
        // é¸ã‚“ã ã‚¿ã‚¤ãƒ—ã«åŠ ç‚¹ (+2ç‚¹)
        // å°‘ã—ãƒ©ãƒ³ãƒ€ãƒ æ€§ã‚’å…¥ã‚Œã‚‹ãŸã‚ã« 0.1ã€œ0.9 ã®ä¹±æ•°ã‚’è¶³ã—ã¦åŒç‚¹å›é¿
        scores[type] += 2 + Math.random();

        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            renderQuestion();
        } else {
            calcResults();
        }
    }

    // çµæœè¨ˆç®—ãƒ»è¡¨ç¤º
    function calcResults() {
        // ã‚¹ã‚³ã‚¢é †ã«ã‚½ãƒ¼ãƒˆï¼ˆé™é †ï¼‰
        const sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
        
        // ä¸Šä½3ã¤ã‚’å–å¾—
        const top3 = sortedScores.slice(0, 3);
        
        // DOMç”Ÿæˆ
        const container = document.getElementById('ranking-container');
        container.innerHTML = '';
        
        const medals = ['gold', 'silver', 'bronze'];
        const medalIcons = ['ğŸ¥‡ ç¬¬1ä½', 'ğŸ¥ˆ ç¬¬2ä½', 'ğŸ¥‰ ç¬¬3ä½'];
        
        // ã‚³ãƒ¼ãƒ‰ç”¨æ–‡å­—åˆ— (ä¾‹: E-A-I)
        let codeStr = "";

        top3.forEach((item, index) => {
            const typeKey = item[0];
            const data = types[typeKey];
            const rankClass = medals[index];
            const rankIcon = medalIcons[index];
            
            // ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
            codeStr += (index === 0 ? "" : "-") + typeKey;

            const div = document.createElement('div');
            div.className = `rank-item ${rankClass}`;
            div.innerHTML = `
                <span class="rank-badge">${rankIcon}</span>
                <span class="major-name">${data.major}</span>
                <div class="type-name">ã€${data.name}ã€‘ã‚¿ã‚¤ãƒ—</div>
                <div class="desc-text">${data.desc}</div>
            `;
            container.appendChild(div);
        });

        // ã‚¹ã‚¿ãƒƒãƒ•ã‚³ãƒ¼ãƒ‰è¡¨ç¤º
        document.getElementById('staff-code').innerText = codeStr;

        // SNSã‚·ã‚§ã‚¢ç”¨ãƒ†ã‚­ã‚¹ãƒˆä½œæˆ
        const topType = types[top3[0][0]];
        const shareText = `æ¨ã—æ´»Ã—ã‚µãƒ„ãƒ€ã‚¤ ãƒ¡ã‚¸ãƒ£ãƒ¼è¨ºæ–­çµæœï¼\nç§ã®æ¨ã—æ´»ã‚¿ã‚¤ãƒ—ã¯â€¦\nğŸ‘‘ã€${topType.name}ã€‘\n(${topType.major})\n\næ¨ã—æ´»ã®æ‰èƒ½ãŒå­¦ã³ã«å¤‰ã‚ã‚‹ã‹ã‚‚ï¼ï¼Ÿ\n#ã‚µãƒ„ãƒ€ã‚¤ #æ¨ã—æ´»è¨ºæ–­ #æœ­å¹Œå¤§å­¦`;
        
        // Twitterãƒªãƒ³ã‚¯è¨­å®š
        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`;
        document.getElementById('twitter-share').href = twitterUrl;

        // ã‚¤ãƒ³ã‚¹ã‚¿ç”¨ã‚³ãƒ”ãƒ¼ãƒœã‚¿ãƒ³ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’ä»•è¾¼ã‚€
        document.querySelector('.copy').setAttribute('data-text', shareText);

        showScreen('result-screen');
    }

    // ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‚³ãƒ”ãƒ¼
    function copyResult() {
        const text = document.querySelector('.copy').getAttribute('data-text');
        if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(() => {
                alert('ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼\nInstagramã‚’é–‹ã„ã¦è²¼ã‚Šä»˜ã‘ã¦ã­âœ¨');
            });
        } else {
            alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ');
        }
    }

</script>

</body>
</html>